{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\src\\\\api\\\\excel\\\\loadin.js\";\nimport React from 'react';\nexport default\n/*#__PURE__*/\n(function () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee2(store, getFile) {\n    var file, res, reader;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            file = getFile();\n\n            if (file) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\");\n\n          case 3:\n            _context2.next = 5;\n            return window.showLoading(function () {\n              return res.msg === true ? window.showToast('导入成功') : window.showModal({\n                view: React.createElement(\"h2\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 10\n                  },\n                  __self: this\n                }, \"\\u5BFC\\u5165\\u5931\\u8D25:\", res.msg, \"!\")\n              });\n            });\n\n          case 5:\n            reader = new FileReader();\n\n            reader.onload =\n            /*#__PURE__*/\n            function () {\n              var _ref2 = _asyncToGenerator(\n              /*#__PURE__*/\n              _regeneratorRuntime.mark(function _callee(e) {\n                return _regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return store.infoList.paper.parseFromFile(e);\n\n                      case 2:\n                        return _context.abrupt(\"return\", res = _context.sent);\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              return function (_x3) {\n                return _ref2.apply(this, arguments);\n              };\n            }();\n\n            reader.readAsArrayBuffer(file);\n\n          case 8:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function (_x, _x2) {\n    return _ref.apply(this, arguments);\n  };\n})();","map":{"version":3,"sources":["C:\\Users\\sunli\\Documents\\GitHub\\Theory-Exam\\code\\client\\src\\api\\excel\\loadin.js"],"names":["React","store","getFile","file","window","showLoading","res","msg","showToast","showModal","view","reader","FileReader","onload","e","infoList","paper","parseFromFile","readAsArrayBuffer"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAe,kBAAOC,KAAP,EAAcC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AACTC,YAAAA,IADS,GACFD,OAAO,EADL;;AAAA,gBAERC,IAFQ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,mBAIPC,MAAM,CAACC,WAAP,CAAmB;AAAA,qBACvBC,GAAG,CAACC,GAAJ,KAAY,IAAZ,GACIH,MAAM,CAACI,SAAP,CAAiB,MAAjB,CADJ,GAEIJ,MAAM,CAACK,SAAP,CAAiB;AAAEC,gBAAAA,IAAI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAAUJ,GAAG,CAACC,GAAd;AAAR,eAAjB,CAHmB;AAAA,aAAnB,CAJO;;AAAA;AASTI,YAAAA,MATS,GASA,IAAIC,UAAJ,EATA;;AAUbD,YAAAA,MAAM,CAACE,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAgB,iBAAMC,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAAuBb,KAAK,CAACc,QAAN,CAAeC,KAAf,CAAqBC,aAArB,CAAmCH,CAAnC,CAAvB;;AAAA;AAAA,yDAAWR,GAAX;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAhB;;AAAA;AAAA;AAAA;AAAA;;AACAK,YAAAA,MAAM,CAACO,iBAAP,CAAyBf,IAAzB;;AAXa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import React from 'react'\r\n\r\nexport default async (store, getFile) => {\r\n  let file = getFile()\r\n  if (!file) return\r\n  let res\r\n  await window.showLoading(() =>\r\n    res.msg === true\r\n      ? window.showToast('导入成功')\r\n      : window.showModal({ view: <h2>导入失败:{res.msg}!</h2> })\r\n  )\r\n  let reader = new FileReader()\r\n  reader.onload = async e => res = await store.infoList.paper.parseFromFile(e)\r\n  reader.readAsArrayBuffer(file)\r\n}"]},"metadata":{},"sourceType":"module"}