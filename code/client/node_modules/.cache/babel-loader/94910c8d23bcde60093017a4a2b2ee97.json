{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\src\\\\pages\\\\CollegeLogin\\\\CollegeLogin.jsx\";\nimport React, { useState, useCallback } from 'react';\nimport { post } from '../../utils/request';\nimport './CollegeLogin.css';\nimport Store from '../../utils/Store';\nimport Route from '../../config/RouteConfig';\n\nvar CollegeLogin = function CollegeLogin() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      userName = _useState2[0],\n      setUserName = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      passWord = _useState4[0],\n      setPassWord = _useState4[1];\n\n  var handleSubmit = useCallback(function (from) {\n    var postData =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return post('api/college/login/v1', from);\n\n              case 2:\n                response = _context.sent;\n\n                if (response.status === 'succeed') {\n                  Store.state.status = 'college';\n                  window.navigateTo(Route.College.route);\n                } else {\n                  window.showToast(response.message);\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function postData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    postData();\n  });\n  var config = [{\n    name: 'userName',\n    text: '用户名',\n    option: {\n      value: userName,\n      onChange: useCallback(function (e) {\n        return setUserName(e.target.value);\n      }, [])\n    }\n  }, {\n    name: 'passWord',\n    text: '密码',\n    option: {\n      type: 'password',\n      value: passWord,\n      onChange: useCallback(function (e) {\n        return setPassWord(e.target.value);\n      }, [])\n    }\n  }];\n  var finish = useCallback(function () {\n    var data = {\n      userName: userName,\n      passWord: passWord\n    };\n    handleSubmit(data);\n  }, [userName, passWord]);\n  return React.createElement(\"div\", {\n    className: \"login-from\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"fil-stu-er-head\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"\\u5B66\\u9662\\u767B\\u9646\"), React.createElement(\"div\", {\n    className: \"from\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, config.map(function (ele, i) {\n    return React.createElement(\"div\", {\n      className: \"row aside\",\n      key: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, ele.text), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"input\", Object.assign({}, ele.option, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }))));\n  }))), React.createElement(\"button\", {\n    className: \"iw-bn iw-confirm\",\n    onClick: finish,\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"\\u767B\\u9646\"));\n};\n\nexport default CollegeLogin;","map":{"version":3,"sources":["C:\\Users\\sunli\\Documents\\GitHub\\Theory-Exam\\code\\client\\src\\pages\\CollegeLogin\\CollegeLogin.jsx"],"names":["React","useState","useCallback","post","Store","Route","CollegeLogin","userName","setUserName","passWord","setPassWord","handleSubmit","from","postData","response","status","state","window","navigateTo","College","route","showToast","message","config","name","text","option","value","onChange","e","target","type","finish","data","map","ele","i"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\r\nimport { post } from '../../utils/request'\r\nimport './CollegeLogin.css'\r\nimport Store from '../../utils/Store'\r\nimport Route from '../../config/RouteConfig'\r\n\r\nconst CollegeLogin = () => {\r\n    const [userName, setUserName] = useState('')\r\n    const [passWord, setPassWord] = useState('')\r\n\r\n    const handleSubmit = useCallback((from) => {\r\n        const postData = async () => {\r\n            let response = await post('api/college/login/v1', from)\r\n            if (response.status === 'succeed') {\r\n                Store.state.status = 'college'\r\n                window.navigateTo(Route.College.route)\r\n            } else {\r\n                window.showToast(response.message)\r\n            }\r\n        }\r\n        postData()\r\n    })\r\n\r\n    const config = [\r\n        {\r\n            name: 'userName',\r\n            text: '用户名',\r\n            option: {\r\n                value: userName,\r\n                onChange: useCallback((e) => setUserName(e.target.value), [])\r\n            }\r\n\r\n        },\r\n        {\r\n            name: 'passWord',\r\n            text: '密码',\r\n            option: {\r\n                type: 'password',\r\n                value: passWord,\r\n                onChange: useCallback((e) => setPassWord(e.target.value), [])\r\n            }\r\n\r\n        }\r\n    ]\r\n\r\n    const finish = useCallback(() => {\r\n        let data = {\r\n            userName,\r\n            passWord\r\n        }\r\n        handleSubmit(data)\r\n    }, [userName, passWord])\r\n\r\n    return (\r\n        <div className='login-from'>\r\n            <div className='fil-stu-er-head'>学院登陆</div>\r\n            <div className='from' >\r\n                <form>\r\n                    {\r\n                        config.map((ele, i) => (\r\n\r\n                                <div className='row aside' key={i}>\r\n                                    <span>{ele.text}</span>\r\n                                    <div>\r\n                                        <input {...ele.option} />\r\n                                    </div>\r\n                                </div>\r\n                        ))\r\n                    }\r\n                </form>\r\n            </div>\r\n            <button className='iw-bn iw-confirm' onClick={finish} type=\"submit\">登陆</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CollegeLogin\r\n"]},"metadata":{},"sourceType":"module"}