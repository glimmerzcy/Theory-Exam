{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nvar _jsxFileName = \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\src\\\\api\\\\expaper\\\\put.js\";\nimport { post } from '../../utils/request';\nimport React from 'react';\nimport syncAll from './all';\nimport sync from './get';\nimport Time from '../../utils/Time';\nexport default\n/*#__PURE__*/\n(function () {\n  var _ref = _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee(store) {\n    var paper, data, paper_id;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            paper = store.infoList.paper.getAUpLoad();\n            _context.next = 8;\n            break;\n\n          case 4:\n            _context.prev = 4;\n            _context.t0 = _context[\"catch\"](0);\n            window.showToast(_context.t0.toString());\n            return _context.abrupt(\"return\");\n\n          case 8:\n            _context.next = 10;\n            return window.showLoading();\n\n          case 10:\n            _context.next = 12;\n            return post('api/college/common/paper/edit/v1', {\n              paper: paper\n            });\n\n          case 12:\n            data = _context.sent;\n            _context.next = 15;\n            return window.hideLoading();\n\n          case 15:\n            paper_id = data.data;\n\n            if (!paper_id) {\n              _context.next = 24;\n              break;\n            }\n\n            _context.next = 19;\n            return syncAll(store);\n\n          case 19:\n            _context.next = 21;\n            return sync(store, paper_id);\n\n          case 21:\n            _context.next = 23;\n            return window.showToast('修改保存成功');\n\n          case 23:\n            return _context.abrupt(\"return\");\n\n          case 24:\n            window.showModal({\n              view: React.createElement(\"h2\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 25\n                },\n                __self: this\n              }, \"\\u4FEE\\u6539\\u4FDD\\u5B58\\u5931\\u8D25\")\n            });\n\n          case 25:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this, [[0, 4]]);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n})();","map":{"version":3,"sources":["C:\\Users\\sunli\\Documents\\GitHub\\Theory-Exam\\code\\client\\src\\api\\expaper\\put.js"],"names":["post","React","syncAll","sync","Time","store","paper","infoList","getAUpLoad","window","showToast","toString","showLoading","data","hideLoading","paper_id","showModal","view"],"mappings":";;;AAAA,SAASA,IAAT,QAAqB,qBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,OAApB;AACA,OAAOC,IAAP,MAAiB,OAAjB;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAe,iBAAMC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGXC,YAAAA,KAAK,GAAGD,KAAK,CAACE,QAAN,CAAeD,KAAf,CAAqBE,UAArB,EAAR;AAHW;AAAA;;AAAA;AAAA;AAAA;AAKXC,YAAAA,MAAM,CAACC,SAAP,CAAiB,YAAMC,QAAN,EAAjB;AALW;;AAAA;AAAA;AAAA,mBAQPF,MAAM,CAACG,WAAP,EARO;;AAAA;AAAA;AAAA,mBASIZ,IAAI,CAAC,kCAAD,EAAqC;AAAEM,cAAAA,KAAK,EAALA;AAAF,aAArC,CATR;;AAAA;AASTO,YAAAA,IATS;AAAA;AAAA,mBAUPJ,MAAM,CAACK,WAAP,EAVO;;AAAA;AAWTC,YAAAA,QAXS,GAWEF,IAAI,CAACA,IAXP;;AAAA,iBAYTE,QAZS;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAaLb,OAAO,CAACG,KAAD,CAbF;;AAAA;AAAA;AAAA,mBAcLF,IAAI,CAACE,KAAD,EAAQU,QAAR,CAdC;;AAAA;AAAA;AAAA,mBAeLN,MAAM,CAACC,SAAP,CAAiB,QAAjB,CAfK;;AAAA;AAAA;;AAAA;AAkBbD,YAAAA,MAAM,CAACO,SAAP,CAAiB;AAAEC,cAAAA,IAAI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAR,aAAjB;;AAlBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA","sourcesContent":["import { post } from '../../utils/request'\r\nimport React from 'react'\r\nimport syncAll from './all'\r\nimport sync from './get'\r\nimport Time from '../../utils/Time'\r\n\r\nexport default async store => {\r\n  let paper\r\n  try {\r\n    paper = store.infoList.paper.getAUpLoad()\r\n  } catch (error) {\r\n    window.showToast(error.toString())\r\n    return\r\n  }\r\n  await window.showLoading()\r\n  let data = await post('api/college/common/paper/edit/v1', { paper })\r\n  await window.hideLoading()\r\n  let paper_id = data.data\r\n  if (paper_id) {\r\n    await syncAll(store)\r\n    await sync(store, paper_id)\r\n    await window.showToast('修改保存成功')\r\n    return\r\n  }\r\n  window.showModal({ view: <h2>修改保存失败</h2> })\r\n}\r\n"]},"metadata":{},"sourceType":"module"}