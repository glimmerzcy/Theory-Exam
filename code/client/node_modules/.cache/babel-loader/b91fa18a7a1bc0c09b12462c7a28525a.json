{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\src\\\\config\\\\page\\\\EditPaper.js\";\nimport React from 'react';\nimport Route from '../RouteConfig';\nimport ConfigModal from '../../components/PaperConfig/index';\nimport Store from '../../utils/Store';\nexport var func_icon = [{\n  icon: 'home',\n  click: function click() {\n    return window.navigateTo(Route.ExPaper.route);\n  },\n  alt: '返回试卷页',\n  title: '返回首页'\n}, {\n  icon: 'config',\n  click: function click() {\n    return window.showView(React.createElement(ConfigModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15\n      },\n      __self: this\n    }));\n  },\n  alt: '设置',\n  title: '设置试卷头'\n}, {\n  icon: 'preview',\n  click: function click() {\n    if (!Store.infoList.paper.canToExam()) {\n      window.showToast('题目数不足出题数下限');\n      return;\n    }\n\n    Store.infoList.exam_paper = Store.infoList.paper.getAExam();\n    window.navigateTo(Route.Exam.route);\n  },\n  alt: '预览',\n  title: '预览试卷'\n}, {\n  icon: 'save',\n  alt: '保存',\n  title: '保存试卷',\n  click: Store.request('expaper/put')\n}, {\n  icon: 'send',\n  alt: '发布考试',\n  title: '发布考试',\n  click: function click() {\n    Store.infoList.stu_table = [];\n\n    if (Store.infoList.paper.body[0].quiz.length < 40 || Store.infoList.paper.body[1].quiz.length < 30) {\n      window.showToast('题目数量不足最低限制，无法发布');\n      return;\n    }\n\n    if (Store.infoList.paper.calculateScore() < 100) {\n      window.showToast('分数不足100分');\n      return;\n    }\n\n    if (!Store.infoList.paper.head.id) {\n      window.showToast(' 请先保存题目后，再行发布');\n      return;\n    }\n\n    if (Store.infoList.paper.head.aim == 0) {\n      Store.request('expaper/publish')();\n      return;\n    }\n\n    window.navigateTo(Route.SelStu.route);\n  }\n}];","map":{"version":3,"sources":["C:\\Users\\sunli\\Documents\\GitHub\\Theory-Exam\\code\\client\\src\\config\\page\\EditPaper.js"],"names":["React","Route","ConfigModal","Store","func_icon","icon","click","window","navigateTo","ExPaper","route","alt","title","showView","infoList","paper","canToExam","showToast","exam_paper","getAExam","Exam","request","stu_table","body","quiz","length","calculateScore","head","id","aim","SelStu"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,WAAP,MAAwB,oCAAxB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEA,OAAO,IAAMC,SAAS,GAAG,CACvB;AACEC,EAAAA,IAAI,EAAE,MADR;AAEEC,EAAAA,KAAK,EAAE;AAAA,WAAMC,MAAM,CAACC,UAAP,CAAkBP,KAAK,CAACQ,OAAN,CAAcC,KAAhC,CAAN;AAAA,GAFT;AAGEC,EAAAA,GAAG,EAAE,OAHP;AAIEC,EAAAA,KAAK,EAAC;AAJR,CADuB,EAOvB;AACEP,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,KAAK,EAAE;AAAA,WAAMC,MAAM,CAACM,QAAP,CAAgB,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAhB,CAAN;AAAA,GAFT;AAGEF,EAAAA,GAAG,EAAE,IAHP;AAIEC,EAAAA,KAAK,EAAC;AAJR,CAPuB,EAavB;AACEP,EAAAA,IAAI,EAAE,SADR;AAEEC,EAAAA,KAFF,mBAEU;AACN,QAAI,CAACH,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBC,SAArB,EAAL,EAAuC;AACrCT,MAAAA,MAAM,CAACU,SAAP,CAAiB,YAAjB;AACA;AACD;;AACDd,IAAAA,KAAK,CAACW,QAAN,CAAeI,UAAf,GAA4Bf,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBI,QAArB,EAA5B;AACAZ,IAAAA,MAAM,CAACC,UAAP,CAAkBP,KAAK,CAACmB,IAAN,CAAWV,KAA7B;AACD,GATH;AAUEC,EAAAA,GAAG,EAAE,IAVP;AAWEC,EAAAA,KAAK,EAAC;AAXR,CAbuB,EA0BvB;AACEP,EAAAA,IAAI,EAAE,MADR;AAEEM,EAAAA,GAAG,EAAE,IAFP;AAGEC,EAAAA,KAAK,EAAC,MAHR;AAIEN,EAAAA,KAAK,EAAEH,KAAK,CAACkB,OAAN,CAAc,aAAd;AAJT,CA1BuB,EAgCvB;AACEhB,EAAAA,IAAI,EAAE,MADR;AAEEM,EAAAA,GAAG,EAAE,MAFP;AAGEC,EAAAA,KAAK,EAAC,MAHR;AAIEN,EAAAA,KAJF,mBAIU;AACNH,IAAAA,KAAK,CAACW,QAAN,CAAeQ,SAAf,GAA2B,EAA3B;;AACA,QAAGnB,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBQ,IAArB,CAA0B,CAA1B,EAA6BC,IAA7B,CAAkCC,MAAlC,GAA2C,EAA3C,IAAkDtB,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBQ,IAArB,CAA0B,CAA1B,EAA6BC,IAA7B,CAAkCC,MAAlC,GAA2C,EAAhG,EAAoG;AAClGlB,MAAAA,MAAM,CAACU,SAAP,CAAiB,iBAAjB;AACA;AACD;;AACD,QAAGd,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBW,cAArB,KAAwC,GAA3C,EAA+C;AAC7CnB,MAAAA,MAAM,CAACU,SAAP,CAAiB,UAAjB;AACA;AACD;;AACD,QAAI,CAACd,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBY,IAArB,CAA0BC,EAA/B,EAAmC;AACjCrB,MAAAA,MAAM,CAACU,SAAP,CAAiB,eAAjB;AACA;AACD;;AACD,QAAId,KAAK,CAACW,QAAN,CAAeC,KAAf,CAAqBY,IAArB,CAA0BE,GAA1B,IAAiC,CAArC,EAAwC;AAClC1B,MAAAA,KAAK,CAACkB,OAAN,CAAc,iBAAd;AACA;AACL;;AAEDd,IAAAA,MAAM,CAACC,UAAP,CAAkBP,KAAK,CAAC6B,MAAN,CAAapB,KAA/B;AACD;AAxBH,CAhCuB,CAAlB","sourcesContent":["import React from 'react'\r\nimport Route from '../RouteConfig'\r\nimport ConfigModal from '../../components/PaperConfig/index'\r\nimport Store from '../../utils/Store'\r\n\r\nexport const func_icon = [\r\n  {\r\n    icon: 'home',\r\n    click: () => window.navigateTo(Route.ExPaper.route),\r\n    alt: '返回试卷页',\r\n    title:'返回首页'\r\n  },\r\n  {\r\n    icon: 'config',\r\n    click: () => window.showView(<ConfigModal />),\r\n    alt: '设置',\r\n    title:'设置试卷头'\r\n  },\r\n  {\r\n    icon: 'preview',\r\n    click() {\r\n      if (!Store.infoList.paper.canToExam()) {\r\n        window.showToast('题目数不足出题数下限')\r\n        return\r\n      }\r\n      Store.infoList.exam_paper = Store.infoList.paper.getAExam()\r\n      window.navigateTo(Route.Exam.route)\r\n    },\r\n    alt: '预览',\r\n    title:'预览试卷'\r\n  },\r\n  {\r\n    icon: 'save',\r\n    alt: '保存',\r\n    title:'保存试卷',\r\n    click: Store.request('expaper/put')\r\n  },\r\n  {\r\n    icon: 'send',\r\n    alt: '发布考试',\r\n    title:'发布考试',\r\n    click() {\r\n      Store.infoList.stu_table = []\r\n      if(Store.infoList.paper.body[0].quiz.length < 40  || Store.infoList.paper.body[1].quiz.length < 30 ){\r\n        window.showToast('题目数量不足最低限制，无法发布')\r\n        return\r\n      }\r\n      if(Store.infoList.paper.calculateScore() < 100){\r\n        window.showToast('分数不足100分')\r\n        return\r\n      }\r\n      if (!Store.infoList.paper.head.id) {\r\n        window.showToast(' 请先保存题目后，再行发布')\r\n        return\r\n      }\r\n      if (Store.infoList.paper.head.aim == 0) {\r\n            Store.request('expaper/publish')()\r\n            return\r\n      }\r\n\r\n      window.navigateTo(Route.SelStu.route)\r\n    }\r\n  },\r\n]\r\n"]},"metadata":{},"sourceType":"module"}