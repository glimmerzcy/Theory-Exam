{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\sunli\\\\Documents\\\\GitHub\\\\Theory-Exam\\\\code\\\\client\\\\src\\\\utils\\\\InnerWindow\\\\InnerWindow.jsx\";\nimport React from 'react';\nimport Time from '../Time';\nimport { aniDuration, restDuration, loadSVG } from './config';\nimport './InnerWindow.css';\n\nvar _default =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(_default, _React$Component);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n    _this.state = {\n      content: '',\n      isShow: false,\n      closed: true,\n      type: ''\n    };\n    var afterRender;\n    window.waitIW =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return Time.sleep(aniDuration + restDuration);\n\n            case 2:\n              return _context.abrupt(\"return\", _context.sent);\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    window.iwType = function () {\n      return _this.state.type;\n    };\n\n    window.closeIW =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var force,\n          _args2 = arguments;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              force = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : false;\n\n              if (!(_this.state.type === 'mask' && !force)) {\n                _context2.next = 3;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 3:\n              _this.setState({\n                isShow: false\n              });\n\n              _context2.next = 6;\n              return Time.sleep(aniDuration);\n\n            case 6:\n              _this.setState({\n                closed: true,\n                type: ''\n              });\n\n              _context2.next = 9;\n              return Time.sleep(restDuration);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    window.showToast =\n    /*#__PURE__*/\n    function () {\n      var _ref3 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee3(content) {\n        var duration,\n            callback,\n            _args3 = arguments;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                duration = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : 1500;\n                callback = _args3.length > 2 && _args3[2] !== undefined ? _args3[2] : undefined;\n                _context3.next = 4;\n                return Time.sleep(_this.state.isShow ? aniDuration + restDuration : 0);\n\n              case 4:\n                _this.setState({\n                  content: React.createElement(\"h2\", {\n                    __source: {\n                      fileName: _jsxFileName,\n                      lineNumber: 29\n                    },\n                    __self: this\n                  }, content),\n                  closed: false,\n                  type: 'toast'\n                });\n\n                _context3.next = 7;\n                return Time.sleep(restDuration);\n\n              case 7:\n                _this.setState({\n                  isShow: true\n                });\n\n                _context3.next = 10;\n                return Time.sleep(duration);\n\n              case 10:\n                _context3.next = 12;\n                return window.closeIW();\n\n              case 12:\n                callback && callback();\n\n              case 13:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      return function (_x) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n\n    window.showMask =\n    /*#__PURE__*/\n    function () {\n      var _ref4 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee4(content) {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return window.showView(content, 'mask');\n\n              case 2:\n                return _context4.abrupt(\"return\", _context4.sent);\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      return function (_x2) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n\n    window.hideMask =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5() {\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return window.closeIW(true);\n\n            case 2:\n              return _context5.abrupt(\"return\", _context5.sent);\n\n            case 3:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    window.showView =\n    /*#__PURE__*/\n    function () {\n      var _ref6 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee6(content) {\n        var type,\n            important,\n            _args6 = arguments;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                type = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : '';\n                important = _args6.length > 2 && _args6[2] !== undefined ? _args6[2] : false;\n\n                if (!(_this.state.type === 'model' && !important)) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                return _context6.abrupt(\"return\");\n\n              case 4:\n                _context6.next = 6;\n                return Time.sleep(_this.state.isShow ? aniDuration + restDuration : 0);\n\n              case 6:\n                _this.setState({\n                  content: content,\n                  closed: false,\n                  type: type\n                });\n\n                _context6.next = 9;\n                return Time.sleep(restDuration);\n\n              case 9:\n                _this.setState({\n                  isShow: true\n                });\n\n                _context6.next = 12;\n                return Time.sleep(aniDuration);\n\n              case 12:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function (_x3) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n\n    window.showModal =\n    /*#__PURE__*/\n    function () {\n      var _ref7 = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee9(data) {\n        var important,\n            view,\n            onConfirm,\n            onCancel,\n            confirmText,\n            cancelText,\n            ok,\n            no,\n            content,\n            _args9 = arguments;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                important = _args9.length > 1 && _args9[1] !== undefined ? _args9[1] : false;\n                view = data.view, onConfirm = data.onConfirm, onCancel = data.onCancel, confirmText = data.confirmText, cancelText = data.cancelText;\n\n                ok =\n                /*#__PURE__*/\n                function () {\n                  var _ref8 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee7() {\n                    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n                      while (1) {\n                        switch (_context7.prev = _context7.next) {\n                          case 0:\n                            _context7.next = 2;\n                            return window.closeIW();\n\n                          case 2:\n                            onConfirm && onConfirm();\n\n                          case 3:\n                          case \"end\":\n                            return _context7.stop();\n                        }\n                      }\n                    }, _callee7);\n                  }));\n\n                  return function ok() {\n                    return _ref8.apply(this, arguments);\n                  };\n                }();\n\n                no =\n                /*#__PURE__*/\n                function () {\n                  var _ref9 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee8() {\n                    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n                      while (1) {\n                        switch (_context8.prev = _context8.next) {\n                          case 0:\n                            _context8.next = 2;\n                            return window.closeIW();\n\n                          case 2:\n                            onCancel && onCancel();\n\n                          case 3:\n                          case \"end\":\n                            return _context8.stop();\n                        }\n                      }\n                    }, _callee8);\n                  }));\n\n                  return function no() {\n                    return _ref9.apply(this, arguments);\n                  };\n                }();\n\n                content = React.createElement(React.Fragment, null, React.createElement(\"div\", {\n                  className: \"iw-container\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 61\n                  },\n                  __self: this\n                }, React.createElement(\"div\", {\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 62\n                  },\n                  __self: this\n                }, view)), React.createElement(\"div\", {\n                  className: \"row around\",\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 64\n                  },\n                  __self: this\n                }, React.createElement(\"div\", {\n                  className: \"responsive iw-bn iw-confirm\",\n                  onClick: ok,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 65\n                  },\n                  __self: this\n                }, confirmText || '确认'), React.createElement(\"div\", {\n                  className: \"responsive iw-bn iw-cancel\",\n                  onClick: no,\n                  __source: {\n                    fileName: _jsxFileName,\n                    lineNumber: 66\n                  },\n                  __self: this\n                }, cancelText || '取消')));\n                _context9.next = 7;\n                return window.showView(content, 'model', important);\n\n              case 7:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      return function (_x4) {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n\n    window.showLoading =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee10() {\n      var func,\n          _args10 = arguments;\n      return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              func = _args10.length > 0 && _args10[0] !== undefined ? _args10[0] : function () {};\n              afterRender = func;\n              _context10.next = 4;\n              return window.showView(loadSVG, 'loading');\n\n            case 4:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10);\n    }));\n    window.hideLoading =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee11() {\n      return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              _context11.next = 2;\n              return window.closeIW();\n\n            case 2:\n              _context11.t0 = afterRender;\n\n              if (!_context11.t0) {\n                _context11.next = 6;\n                break;\n              }\n\n              _context11.next = 6;\n              return afterRender();\n\n            case 6:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11);\n    }));\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          isShow = _this$state.isShow,\n          closed = _this$state.closed,\n          type = _this$state.type,\n          content = _this$state.content;\n      var style = {\n        opacity: isShow ? 1 : 0,\n        display: closed ? 'none' : 'flex'\n      };\n      var inner_config = {\n        className: \"g-i-w g-i-w-\".concat(type),\n        style: {\n          opacity: isShow ? 1 : 0,\n          transform: \"scale(\".concat(isShow ? 1 : 0, \")\")\n        }\n      };\n      return React.createElement(\"div\", {\n        className: \"g-i-w-container\",\n        style: style,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"div\", Object.assign({}, inner_config, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }), content));\n    }\n  }], [{\n    key: \"autoHideLoading\",\n    value: function autoHideLoading(target) {\n      target.prototype.componentDidUpdate =\n      /*#__PURE__*/\n      _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee12() {\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(window.iwType() === 'loading')) {\n                  _context12.next = 3;\n                  break;\n                }\n\n                _context12.next = 3;\n                return window.hideLoading();\n\n              case 3:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12);\n      }));\n    }\n  }]);\n\n  return _default;\n}(React.Component);\n\nexport { _default as default };","map":{"version":3,"sources":["C:\\Users\\sunli\\Documents\\GitHub\\Theory-Exam\\code\\client\\src\\utils\\InnerWindow\\InnerWindow.jsx"],"names":["React","Time","aniDuration","restDuration","loadSVG","props","state","content","isShow","closed","type","afterRender","window","waitIW","sleep","iwType","closeIW","force","setState","showToast","duration","callback","undefined","showMask","showView","hideMask","important","showModal","data","view","onConfirm","onCancel","confirmText","cancelText","ok","no","showLoading","func","hideLoading","style","opacity","display","inner_config","className","transform","target","prototype","componentDidUpdate","Component"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Time from '../Time'\r\n\r\nimport { aniDuration, restDuration, loadSVG } from './config'\r\nimport './InnerWindow.css'\r\n\r\nexport default class extends React.Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      content: '',\r\n      isShow: false,\r\n      closed: true,\r\n      type: ''\r\n    }\r\n    let afterRender\r\n    window.waitIW = async () => await Time.sleep(aniDuration + restDuration)\r\n    window.iwType = () => this.state.type\r\n    window.closeIW = async (force = false) => {\r\n      if (this.state.type === 'mask' && !force) return\r\n      this.setState({ isShow: false })\r\n      await Time.sleep(aniDuration)\r\n      this.setState({ closed: true, type: '' })\r\n      await Time.sleep(restDuration)\r\n    }\r\n    window.showToast = async (content, duration = 1500, callback = undefined) => {\r\n      await Time.sleep(this.state.isShow ? aniDuration + restDuration : 0)\r\n      this.setState({\r\n        content: <h2>{content}</h2>,\r\n        closed: false,\r\n        type: 'toast'\r\n      })\r\n      await Time.sleep(restDuration)\r\n      this.setState({ isShow: true })\r\n      await Time.sleep(duration)\r\n      await window.closeIW()\r\n      callback && callback()\r\n    }\r\n    window.showMask = async content => await window.showView(content, 'mask')\r\n    window.hideMask = async () => await window.closeIW(true)\r\n    window.showView = async (content, type = '', important = false) => {\r\n      if (this.state.type === 'model' && !important) return\r\n      await Time.sleep(this.state.isShow ? aniDuration + restDuration : 0)\r\n      this.setState({ content, closed: false, type })\r\n      await Time.sleep(restDuration)\r\n      this.setState({ isShow: true })\r\n      await Time.sleep(aniDuration)\r\n    }\r\n    window.showModal = async (data, important = false) => {\r\n      let { view, onConfirm, onCancel, confirmText, cancelText } = data\r\n      let ok = async () => {\r\n        await window.closeIW()\r\n        onConfirm && onConfirm()\r\n      }\r\n      let no = async () => {\r\n        await window.closeIW()\r\n        onCancel && onCancel()\r\n      }\r\n      let content = (\r\n        <>\r\n          <div className='iw-container'>\r\n            <div>{view}</div>\r\n          </div>\r\n          <div className='row around'>\r\n            <div className='responsive iw-bn iw-confirm' onClick={ok}>{confirmText || '确认'}</div>\r\n            <div className='responsive iw-bn iw-cancel' onClick={no}>{cancelText || '取消'}</div>\r\n          </div>\r\n        </>\r\n      )\r\n      await window.showView(content, 'model', important)\r\n    }\r\n    window.showLoading = async (func = () => { }) => {\r\n      afterRender = func\r\n      await window.showView(loadSVG, 'loading')\r\n    }\r\n    window.hideLoading = async () => {\r\n      await window.closeIW()\r\n      afterRender && await afterRender()\r\n    }\r\n  }\r\n  static autoHideLoading(target) {\r\n    target.prototype.componentDidUpdate = async function () {\r\n      if (window.iwType() === 'loading')\r\n        await window.hideLoading()\r\n    }\r\n  }\r\n  render() {\r\n    let { isShow, closed, type, content } = this.state\r\n    let style = {\r\n      opacity: isShow ? 1 : 0,\r\n      display: closed ? 'none' : 'flex'\r\n    }\r\n    let inner_config = {\r\n      className: `g-i-w g-i-w-${type}`,\r\n      style: {\r\n        opacity: isShow ? 1 : 0,\r\n        transform: `scale(${isShow ? 1 : 0})`\r\n      }\r\n    }\r\n    return (\r\n      <div className='g-i-w-container' style={style}>\r\n        <div {...inner_config}>{content}</div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}